<!DOCTYPE html>
<html>
<head>
  <title>Taekwondo Papendrecht</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:,">
  <link rel="stylesheet" type="text/css" href="style.css">

  <script type = "text/javascript">
    var espSocket = new WebSocket('ws://'+document.location.host+'/ws',['arduino']);

     espSocket.onmessage = function(event) {
       const espMessage = event.data
       const jsonData = JSON.parse(espMessage);

       document.getElementById("gamemode").innerHTML = "Gamemode: " + jsonData.Gamemode;
       document.getElementById("side").innerHTML = "Side: " + jsonData.LedDirection;
       document.getElementById("difficulty").innerHTML = "Difficulty: " + jsonData.Gamemode;
       document.getElementById("status").innerHTML = "Status: " + jsonData.SystemStatus;
    }

    function startGame() {
      var xhttp = new XMLHttpRequest();
      xhttp.open("GET", "/start");
      xhttp.send();
    }
  </script>		
</head>
<body>

  <h2>Taekwondo Reaction Time</h2>
  <button type="button" class="button" onclick="startGame()">Start</button>
  <p id = "time">Click Start!</p>

  <div class="container">

    <div class="column1">
      <h2>Gamemodes</h2>
      <a href="/fast"><button class="button button3">Fastest Kick</button></a>
      <br>
      <a href="/amount"><button class="button button3">Amount of Kicks</button></a>
      <br>
      <a href="/printAccel"><button class="button button3">Print Accel Data</button></a>
      <br>
      <a href="/printGyro"><button class="button button3">Print Gyro Data</button></a>
    </div>

    <div class="column2">
      <h2>LED settings</h2>
      <a href="/left"><button class="button button3">Left</button></a>
      <br>
      <a href="/random"><button class="button button3">Random</button></a>
      <br>
      <a href="/right"><button class="button button3">Right</button></a>
    </div>

    <div class="column3">
      <h2>Difficulty</h2>
      <a href="/adult"><button class="button button3">Adult</button></a>
      <br>
      <a href="/kid"><button class="button button3">Kid</button></a>
    </div>

    <div class="column4">
      <h2>Status</h2>
      <p id="gamemode">Gamemode:      <strong>%GAMEMODE%</strong></p>
      <p id="side">LED Side:      <strong>%LEDSIDE%</strong></p>
      <p id="difficulty">Difficulty:    <strong>%DIFFICULTY%</strong></p>
      <p id= "status">System Status: <strong>%STATUS%</strong></p>
      <a href="/restart"><button class="button button2">Restart System</button></a>
    </div>

  </div>
</html> 
